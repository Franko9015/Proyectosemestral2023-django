{% extends 'base1.html' %}
{%load static%}
{% block contenedor %}
      <!--Titulo-->
      <p class="text-center h1 fw-bold mb-5 mx-1 mx-md-4 mt-4">CN Economia</p>
      <div id="carouselExampleControls" class="carousel carousel-dark slide" data-bs-ride="carousel">
        <div class="carousel-inner">
          {% for noticia in noticias_economia %}
          <div class="carousel-item{% if forloop.first %} active{% endif %}">
            <div class="row">
              <div class="col-lg-4">
                <!-- IMAGENES 1 -->
                <div class="card" style="width: 100%; height: 600px;">
                  <img src="{{ noticia.miniatura.url }}" class="card-img-top" alt="...">
                  <div class="card-body">
                    <h5 class="card-title">{{ noticia.Titulo }}</h5>
                    <p class="card-text">            {% if noticia.Descripcion|length > 140 %}
                      {{ noticia.Descripcion|slice:":140" }}...
                    {% else %}
                      {{ noticia.Descripcion }}
                    {% endif %}</p>
                    <a href="{% url 'NON' noticia.idNoticia %}" class="btn btn-primary">Leer Mas</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>      
      <br>        
      <!--Marcador economico-->
      <style>
        .carousel-content {
          background-color: #f8f9fa;
          padding: 22px;
          text-align: center;
        }
      </style>
      
      <div id="carouselIndicators" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <div id="UF" class="carousel-content"></div>
          </div>
          <div class="carousel-item">
            <div id="DolarO" class="carousel-content"></div>
          </div>
          <div class="carousel-item">
            <div id="Euro" class="carousel-content"></div>
          </div>
          <div class="carousel-item">
            <div id="IPC" class="carousel-content"></div>
          </div>
          <div class="carousel-item">
            <div id="UTM" class="carousel-content"></div>
          </div>
          <div class="carousel-item">
            <div id="IVP" class="carousel-content"></div>
          </div>
          <div class="carousel-item">
            <div id="Imacec" class="carousel-content"></div>
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselIndicators" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Anterior</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselIndicators" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Siguiente</span>
        </button>
      </div>
      
      <script>
        fetch('https://mindicador.cl/api').then(function(response) {
          return response.json();
      }).then(function(dailyIndicators) {
          document.getElementById("UF").innerHTML = `
            <h2>Valor actual de la UF</h2>
            <h3>$${dailyIndicators.uf.valor}</h3>
          `;
          document.getElementById("DolarO").innerHTML = `
            <h2>Valor actual del DÃ³lar observado</h2>
            <h3>$${dailyIndicators.dolar.valor}</h3>
          `;
          document.getElementById("Euro").innerHTML = `
            <h2>Valor actual del Euro</h2>
            <h3>$${dailyIndicators.euro.valor}</h3>
          `;
          document.getElementById("IPC").innerHTML = `
            <h2>Valor actual del IPC</h2>
            <h3>${dailyIndicators.ipc.valor}</h3>
          `;
          document.getElementById("UTM").innerHTML = `
            <h2>Valor actual de la UTM</h2>
            <h3>$${dailyIndicators.utm.valor}</h3>
          `;
          document.getElementById("IVP").innerHTML = `
            <h2>Valor actual del IVP</h2>
            <h3>$${dailyIndicators.ivp.valor}</h3>
          `;
          document.getElementById("Imacec").innerHTML = `
            <h2>Valor actual del Imacec</h2>
            <h3>${dailyIndicators.imacec.valor}</h3>
          `;
      }).catch(function(error) {
          console.log('Request failed', error);
      });
      </script>
<!-- Fin Marcador economico -->
      <br>
       <!--Insertar Lo Demas-->
<!--Section: Contenido-->
<section>
  <div class="row gx-lg-5">
    {% for item in noticias %}
    <div class="col col-md-4 mb-4 mb-lg-0">
      <!-- News block -->
      <div>
        <!-- Featured image -->
        <div class="bg-image hover-overlay shadow-1-strong ripple rounded-5 mb-4" data-mdb-ripple-color="light">
          <img src="{{ item.miniatura.url }}" class="img-fluid" />
          <a href="{%url 'NON' item.idNoticia %}">
            <div class="mask" style="background-color: rgba(251, 251, 251, 0.15)"></div>
          </a>
        </div>

        <!-- Article data -->
        <div class="row mb-3">
          <div class="col-6">
            <a href="economia.html" class="text-primary">
              <i class="fas fa-money"></i>
              {{ item.Categorias.nombre }}
            </a>
          </div>

          <div class="col-6 text-end">
            <u>{{ item.fecha_publicacion|date:""}}</u>
          </div>
        </div>

        <!-- Article title and description -->
        <a href="{%url 'NON' item.idNoticia %}" class="text-dark">
          <h5>{{ item.Titulo }}</h5>

          <p class="text-muted">
            {% if item.Descripcion|length > 140 %}
              {{ item.Descripcion|slice:":140" }}...
            {% else %}
              {{ item.Descripcion }}
            {% endif %}
          </p>
        </a>

        <hr />
      </div>
    </div>
    {% endfor %}
  </div>
</section>
<!--Section: Content-->
  
  {% endblock contenedor %}
{% block js %}



{% endblock js %}

  {% block pagination %}
    {{ block.super }}
{% endblock %}