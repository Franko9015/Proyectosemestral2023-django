{% extends 'base6.html' %}
{% load static %}
{% block css %}

{% endblock css %}

{% block contenedor %}
<div class="row">
  <div class="col-lg-4">
    <div class="card mb-4">
      <div class="card-body text-center">
        <form method="post" enctype="multipart/form-data">
          {% csrf_token %}
          <div class="form-group">
            {% if perfil_usuario.foto_perfil %}
              <div class="rounded-circle overflow-hidden mx-auto mb-3" style="width: 250px; height: 250px;">
                <img src="{{ perfil_usuario.foto_perfil.url }}" alt="avatar" class="w-100 h-100">
              </div>
            {% else %}
              <div class="rounded-circle overflow-hidden mx-auto mb-3" style="width: 250px; height: 250px;">
                <img src="{% static 'img\fotopordefecto.jpg' %}" alt="avatar" class="w-100 h-100">
              </div>
            {% endif %}
            <label for="id_foto_perfil" class="form-label">Foto de perfil:</label>
            <input type="file" class="form-control" id="id_foto_perfil" name="id_foto_perfil">
          </div>
          <br>
          <div class="form-group">
            <label for="iddescripcion" class="form-label">Descripción:</label>
            <textarea class="form-control" id="iddescripcion" name="iddescripcion">{{ perfil_usuario.descripcion }}</textarea>
          </div>
          <div class="form-group">
            <label for="idtwitter" class="form-label">Twitter:</label>
            <input type="text" class="form-control" id="idtwitter" name="idtwitter" value="{{ perfil_usuario.twitter }}">
          </div>
          <div class="form-group">
            <label for="idinstagram" class="form-label">Instagram:</label>
            <input type="text" class="form-control" id="idinstagram" name="idinstagram" value="{{ perfil_usuario.instagram }}">
          </div>
          <div class="form-group">
            <label for="idfacebook" class="form-label">Facebook:</label>
            <input type="text" class="form-control" id="idfacebook" name="idfacebook" value="{{ perfil_usuario.facebook }}">
          </div>
          <br>
          <br>
          <button type="submit" class="btn btn-primary">Guardar cambios</button>
          <button type="reset" class="btn btn-secondary">Limpiar</button>
        </form>        
      </div>
    </div>
  </div>
  <div class="col-lg-8">
    <div class="card mb-4">
      <div class="card-body">
        <div class="row">
          <div class="col-sm-3">
            <p class="mb-0">Nombre Completo</p>
          </div>
          <div class="col-sm-9">
            <p class="text-muted mb-0">{{ user.get_full_name }}</p>
          </div>
        </div>
        <hr>
        <div class="row">
          <div class="col-sm-3">
            <p class="mb-0">Correo electrónico</p>
          </div>
          <div class="col-sm-9">
            <p class="text-muted mb-0">{{ user.email }}</p>
          </div>
        </div>
        <hr>
        <div class="row">
          <div class="col-sm-3">
            <p class="mb-0">Nombre de Usuario</p>
          </div>
          <div class="col-sm-9">
            <p class="text-muted mb-0">{{ user.username }}</p>
          </div>
        </div>
        <hr>
        <div class="row">
          <div class="col-sm-3">
            <p class="mb-0">Rol</p>
          </div>
          <div class="col-sm-9">
            <p class="text-muted mb-0">
              {% if user.is_superuser %}
                Admin
              {% else %}
                {% for group in user.groups.all %}
                  {{ group.name }}
                  {% if not forloop.last %}, {% endif %}
                {% endfor %}
              {% endif %}
            </p>
          </div>
        </div>
        <hr>
        <div class="row">
          <div class="col-sm-3">
            <p class="mb-0">Fecha de nacimiento</p>
          </div>
          <div class="col-sm-9">
            <p class="text-muted mb-0">{{ perfil_usuario.fecha_nacimiento }}</p>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="card mb-4 mb-md-0">
          <div class="card-body">
            <p class="mb-4"><span class="text-primary font-italic me-1">Aviso:</span> Para actualizar tus datos personales, por favor ponte en contacto con el departamento de informática de caos news media o por medio del correo electronico del equipo de soporte.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


{% endblock contenedor %}


{% block js %}

{% endblock js %}